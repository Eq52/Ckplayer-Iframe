<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>ckplayer</title>
		<link type="text/css" rel="stylesheet" href="ckplayer/css/ckplayer.css" />
		<script type="text/javascript" src="ckplayer/js/ckplayer.min.js" charset="UTF-8"></script>
		<style>
			body {
				margin: 0;
				padding: 0;
				background: #000;
			}
			.video {
				width: 100vw;
				height: 100vh;
			}
		</style>
	</head>
	<body>
		<div class="video">播放容器</div>
		<script>
			// 获取URL参数
			function getQueryVariable(variable) {
				var query = window.location.search.substring(1);
				var vars = query.split("&");
				for (var i=0;i<vars.length;i++) {
					var pair = vars[i].split("=");
					if(pair[0] == variable){return decodeURIComponent(pair[1]);}
				}
				return(false);
			}
			
			// 获取视频链接参数
			var videoUrl = getQueryVariable("v");
			
			// 根据视频URL后缀判断是否需要使用插件
			var plugType = '';
			if(videoUrl && (videoUrl.indexOf('.m3u8') > -1 || videoUrl.indexOf('m3u8') > -1)) {
				plugType = 'hls.js';
			} else if(videoUrl && videoUrl.indexOf('.flv') > -1) {
				plugType = 'flv.js';
			}
			
			// 默认视频配置
			var videoObject = {
				container: '.video', // 视频容器
				autoplay: false, // 自动播放
				poster: 'video/poster.png', // 封面图片
				video: videoUrl ? videoUrl : 'video/lc.mp4', // 通过URL参数传递视频地址
				plug: plugType, // 插件类型
				crossOrigin: 'anonymous', // 跨域设置
				rightBar: true, // 启用右侧控制栏
				screenshot: true // 启用截图功能
			};
			
			// 初始化播放器
			var player = new ckplayer(videoObject);
		</script>
	</body>
</html>